(this["webpackJsonpreact-hooks-context-api-crud-app"]=this["webpackJsonpreact-hooks-context-api-crud-app"]||[]).push([[0],{46:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(19),r=n.n(s),i=n(20),l=n(21),j=n(28),o=n(26),b=(n(33),n(5)),u=n(2),d=n(13),m=n.n(d),O=n(22),h=n(6),x=n(0),p=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(h.a)(s,2),i=r[0],l=r[1],j=function(){var e=Object(O.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/api/tours");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),a(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()}),[]),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("p",{className:"lead",children:"We are here for you"}),Object(x.jsx)("h4",{children:"Our Tours"}),n.map((function(e){var t=e.image,n=e.id,c=e.info,a=e.price,s=e.name;return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{children:t}),Object(x.jsx)("h5",{children:s}),Object(x.jsxs)("p",{className:"btn text-primary",children:["Price: $ ",a]}),Object(x.jsxs)("p",{className:"lead",children:[i?c:c.substring(0,200)+".....   ",Object(x.jsx)("button",{className:"btn text-primary ml-3",onClick:function(){return l(!i)},children:i?"read less":"read more"})]})]},n)}))]})},f=n(27),v=function(e,t){switch(t.type){case"REMOVE_USER":return{users:e.users.filter((function(e){return e.id!==t.payload}))};case"ADD_USER":return{users:[t.payload].concat(Object(f.a)(e.users))};case"EDIT_USER":var n=t.payload;return{users:e.users.map((function(e){return e.id===n.id?n:e}))};default:return e}},g={users:[]},N=Object(c.createContext)(g),y=function(e){var t=e.children,n=Object(c.useReducer)(v,g),a=Object(h.a)(n,2),s=a[0],r=a[1];return Object(x.jsx)(N.Provider,{value:{users:s.users,removeUser:function(e){r({type:"REMOVE_USER",payload:e})},addUser:function(e){r({type:"ADD_USER",payload:e})},editUser:function(e){r({type:"EDIT_USER",payload:e})}},children:t})},S=n(23),E=n.n(S),U=function(){Object(c.useEffect)((function(){if(localStorage.getItem("usersData")){var e=JSON.parse(localStorage.getItem("usersData"));console.log(e)}}),[]);var e=Object(c.useContext)(N).addUser,t=Object(u.f)(),n=Object(c.useState)(""),a=Object(h.a)(n,2),s=a[0],r=a[1];return Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("form",{onSubmit:function(n){n.preventDefault();var c={id:E()(),name:s};""===s?alert("Please enter name"):e(c),t.push("/")},children:[Object(x.jsxs)("div",{className:"form-group mt-3 mb-3",children:[Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{onChange:function(e){return r(e.target.value)},value:s,type:"text",className:"form-control",placeholder:"Enter name....",required:!0,autoFocus:!0})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Add User"}),Object(x.jsx)(b.b,{to:"/",className:"btn btn-danger ml-3",children:"Cancel"})]})})},C=n(10),D=n(16),k=function(e){var t=Object(c.useContext)(N),n=t.users,a=t.editUser,s=Object(u.f)(),r=Object(c.useState)({id:"",name:""}),i=Object(h.a)(r,2),l=i[0],j=i[1],o=e.match.params.id;Object(c.useEffect)((function(){var e=o,t=n.find((function(t){return t.id===e}));j(t)}),[o,n]);return Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(l),s.push("/")},children:[Object(x.jsxs)("div",{className:"form-group mt-3 mb-3",children:[Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{name:"name",value:l.name,onChange:function(e){j(Object(D.a)(Object(D.a)({},l),{},Object(C.a)({},e.target.name,e.target.value)))},type:"text",className:"form-control",autoFocus:!0})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Save changes"}),Object(x.jsx)(b.b,{to:"/",className:"btn btn-danger ml-3",children:"Cancel"})]})},R=function(){return Object(x.jsx)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-secondary mb-3 py-0",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(b.b,{to:"/",className:"navbar-brand",children:"Our Users"}),Object(x.jsx)("div",{children:Object(x.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(b.b,{to:"/add",className:"nav-link",children:Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add User"})})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(b.b,{to:"/about",className:"nav-link",children:Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"About"})})})]})})]})})},w=n.p+"static/media/avatar.5e4e360a.png",F=function(){var e=Object(c.useContext)(N),t=e.users,n=e.removeUser;return Object(x.jsx)("div",{children:Object(x.jsx)("ul",{className:"list-group",children:t.length>0?t.map((function(e){return Object(x.jsxs)("li",{className:"list-group-item mb-2 d-flex justify-content-between",children:[Object(x.jsxs)("div",{className:"d-flex ",children:[Object(x.jsx)("img",{src:w,alt:"avatar",style:I}),Object(x.jsx)("h4",{children:e.name})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(b.b,{to:"/edit/".concat(e.id),className:"btn btn-warning mr-2",children:"Edit"}),Object(x.jsx)("button",{onClick:function(){return n(e.id)},className:"btn btn-danger",children:"Delete"})]})]},e.id)})):Object(x.jsx)("h4",{className:"text-center",children:"No Users to display"})})})},I={width:"40px",height:"40px",marginRight:"20px"},P=function(){var e=Object(c.useContext)(N).users;return Object(c.useEffect)((function(){localStorage.setItem("usersData",JSON.stringify(e))}),[e]),Object(x.jsxs)("div",{className:"card ml-3 mr-3",children:[Object(x.jsxs)("div",{className:"card-header text-center",children:[Object(x.jsx)("button",{className:" btn bg-warning",children:e.length}),Object(x.jsx)("h4",{children:"Registered Users"})]}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(F,{})})]})},_=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)("h4",{className:"text-center",children:[Object(x.jsx)("span",{className:"text-danger",children:"404"})," Sorry, Page not Found"]})})},A=function(e){Object(j.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(y,{children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)(R,{}),Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{exact:!0,path:"/",component:P}),Object(x.jsx)(u.a,{exact:!0,path:"/add",component:U}),Object(x.jsx)(u.a,{exact:!0,path:"/edit/:id",component:k}),Object(x.jsx)(u.a,{exact:!0,path:"/about",component:p}),Object(x.jsx)(u.a,{component:_})]})]})})})}}]),n}(c.Component),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root")),T()}},[[46,1,2]]]);
//# sourceMappingURL=main.947ddf43.chunk.js.map